\documentclass[varwidth=true, crop, border=5pt]{standalone}

\usepackage{chemfig}
\usepackage{mhchem}
\usepackage{amsmath}
\usepackage{xcolor}
\usepackage{scontents}
\usepackage{ifthen}
\usepackage{tikz}
\usetikzlibrary{trees, positioning}
\usetikzlibrary{mindmap}

% Color definition
\definecolor{xpp_font_color}{HTML}{%%XPP_TEXT_COLOR%%}

% User input storage
\begin{scontents}[store-env=preview]
$%%XPP_TOOL_INPUT%%$
\end{scontents}

\begin{document}
% Blank input check
\newlength{\pheight}
\settoheight{\pheight}{\getstored[1]{preview}}%
\ifthenelse{\pheight=0pt}{\GenericError{}{xournalpp:blankformula}{}{}}{}

% Render content
\textcolor{xpp_font_color}{\getstored[1]{preview}}
\end{document}
